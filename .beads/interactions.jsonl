{"id":"pg-sourcerer-2nj","title":"Config Loader Service","description":"Load and validate pgsourcerer.config.ts:\n\n- Config file discovery (CLI flag, then pgsourcerer.config.{ts,js,mjs})\n- Parse with Effect Schema\n- Validate plugin configs individually\n- Resolve environment variables\n\nResearch needed: Effect.Config vs lilconfig vs Bun native import.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T17:23:25.921417722-06:00","updated_at":"2026-01-05T17:23:25.921417722-06:00","labels":["phase-1","rewrite"],"dependencies":[{"issue_id":"pg-sourcerer-2nj","depends_on_id":"pg-sourcerer-b2n","type":"blocks","created_at":"2026-01-05T17:23:25.922938443-06:00","created_by":"daemon"}]}
{"id":"pg-sourcerer-2r3","title":"File Writer Service","description":"Write buffered emissions to disk:\n\n- Take EmissionBuffer contents after all plugins complete\n- Add generated file header with timestamp\n- Create directories as needed\n- Write files (overwrite existing)\n- Support dry-run mode (show what would be written)\n\nUses @effect/platform FileSystem service.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T17:23:20.082752601-06:00","updated_at":"2026-01-05T17:23:20.082752601-06:00","labels":["phase-1","rewrite"],"dependencies":[{"issue_id":"pg-sourcerer-2r3","depends_on_id":"pg-sourcerer-b2n","type":"blocks","created_at":"2026-01-05T17:23:20.084147028-06:00","created_by":"daemon"}]}
{"id":"pg-sourcerer-72u","title":"Inflection Service Implementation","description":"Implement CoreInflection service with naming transformations:\n- camelCase, pascalCase\n- pluralize, singularize\n- safeIdentifier (handle reserved words)\n- entityName, shapeName, fieldName\n- enumName, enumValueName\n- relationName\n\nCurrently stubbed - all methods throw \"not implemented\".","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T17:22:56.727789317-06:00","updated_at":"2026-01-05T17:22:56.727789317-06:00","labels":["phase-1","rewrite"],"dependencies":[{"issue_id":"pg-sourcerer-72u","depends_on_id":"pg-sourcerer-b2n","type":"blocks","created_at":"2026-01-05T17:22:56.729599696-06:00","created_by":"daemon"}]}
{"id":"pg-sourcerer-85g","title":"IR Builder Service","description":"Build SemanticIR from pg-introspection output.\n\nTransforms raw introspection into:\n- Entities (tables, views, composites)\n- Shapes (row, insert, update, patch)\n- Fields with semantic properties\n- Relations from foreign keys\n- Enums\n\nRequires smart tags parser to be complete for tag extraction.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-05T17:22:50.795897422-06:00","updated_at":"2026-01-05T17:22:50.795897422-06:00","labels":["phase-1","rewrite"],"dependencies":[{"issue_id":"pg-sourcerer-85g","depends_on_id":"pg-sourcerer-b2n","type":"blocks","created_at":"2026-01-05T17:22:50.797132934-06:00","created_by":"daemon"},{"issue_id":"pg-sourcerer-85g","depends_on_id":"pg-sourcerer-zbb","type":"blocks","created_at":"2026-01-05T17:22:50.798032465-06:00","created_by":"daemon"}]}
{"id":"pg-sourcerer-b2n","title":"Plugin Runner Core Infrastructure","description":"Build the core plugin runner infrastructure for pg-sourcerer rewrite. This is Phase 1 of the rewrite - establishing the Effect-ts based service layer with stubs, then implementing via RED-GREEN-REFACTOR.\n\nSee ARCHITECTURE.md for full design and packages/sourcerer-rewrite/AGENTS.md for implementation notes.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-05T17:22:37.781529599-06:00","updated_at":"2026-01-05T17:23:38.413587315-06:00","closed_at":"2026-01-05T17:23:38.413587315-06:00","close_reason":"Initial stubs and wiring complete. All services defined with Context.Tag, stub layers created, tests passing (9/9). See packages/sourcerer-rewrite/","labels":["phase-1","rewrite"]}
{"id":"pg-sourcerer-bsq","title":"Plugin Runner Capability Resolution","description":"Implement PluginRunner capability resolution:\n\n1. Collect all provides/requires from plugins\n2. Expand implicit provisions (schemas:zod → also provides schemas)\n3. Check for conflicts (same capability from multiple plugins)\n4. Check all requires are satisfied\n5. Topological sort (error on cycles)\n6. Execute plugins in sorted order\n\nCurrently stubbed - prepare() and run() return stub errors.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T17:23:03.184670503-06:00","updated_at":"2026-01-05T18:02:45.541040642-06:00","closed_at":"2026-01-05T18:02:45.541040642-06:00","close_reason":"Implemented plugin runner capability resolution with idiomatic Effect patterns: HashMap for providers, Effect.reduce for single-pass validation, Graph module for topo sort and cycle detection. All 8 tests pass.","labels":["phase-1","rewrite"],"dependencies":[{"issue_id":"pg-sourcerer-bsq","depends_on_id":"pg-sourcerer-b2n","type":"blocks","created_at":"2026-01-05T17:23:03.186612366-06:00","created_by":"daemon"}]}
{"id":"pg-sourcerer-esj","title":"Symbol Registry Import Resolution","description":"Implement relative import path calculation in SymbolRegistry.importFor():\n\n- Calculate relative path from importer to importee\n- Add .js extension for ESM\n- Separate type imports from value imports\n- Handle same directory vs parent directory\n\nCurrent implementation is naive stub.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T17:23:14.311590952-06:00","updated_at":"2026-01-05T17:23:14.311590952-06:00","labels":["phase-1","rewrite"],"dependencies":[{"issue_id":"pg-sourcerer-esj","depends_on_id":"pg-sourcerer-b2n","type":"blocks","created_at":"2026-01-05T17:23:14.312838243-06:00","created_by":"daemon"}]}
{"id":"pg-sourcerer-pcu","title":"Type Hint Registry Implementation","description":"Implement TypeHintRegistry matching and precedence:\n\n- Match fields against configured type hints\n- Specificity scoring: table+column \u003e table \u003e column \u003e pgType\n- Merge hints from multiple matching rules\n- Later rules override earlier (same specificity)\n\nCurrently stubbed - returns empty hints.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T17:23:08.820308639-06:00","updated_at":"2026-01-05T17:23:08.820308639-06:00","labels":["phase-1","rewrite"],"dependencies":[{"issue_id":"pg-sourcerer-pcu","depends_on_id":"pg-sourcerer-b2n","type":"blocks","created_at":"2026-01-05T17:23:08.821918675-06:00","created_by":"daemon"}]}
{"id":"pg-sourcerer-zbb","title":"Smart Tags Parser","description":"Parse JSON smart tags from PostgreSQL COMMENT ON statements.\n\nFormat: `{\"sourcerer\": {...}}` embedded in pg_description comments.\n\nBehavior:\n- Valid JSON with `sourcerer` key → extract and validate against SmartTags schema\n- Valid JSON without `sourcerer` key → no tags (other tools may use their own namespaces)\n- Malformed JSON → warning logged, treated as no tags\n- Empty/no comment → no tags\n\nSee ARCHITECTURE.md \"Smart Tags\" section for full spec.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-05T17:22:44.771111608-06:00","updated_at":"2026-01-05T17:22:44.771111608-06:00","labels":["phase-1","rewrite"],"dependencies":[{"issue_id":"pg-sourcerer-zbb","depends_on_id":"pg-sourcerer-b2n","type":"blocks","created_at":"2026-01-05T17:22:44.773318535-06:00","created_by":"daemon"}]}
